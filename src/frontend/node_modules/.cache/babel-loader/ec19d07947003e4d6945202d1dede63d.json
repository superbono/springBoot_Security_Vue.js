{"remainingRequest":"/Users/choi/Documents/neverland_web/src/frontend/node_modules/babel-loader/lib/index.js!/Users/choi/Documents/neverland_web/src/frontend/src/store/index.js","dependencies":[{"path":"/Users/choi/Documents/neverland_web/src/frontend/src/store/index.js","mtime":1643701790050},{"path":"/Users/choi/Documents/neverland_web/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1643701922976},{"path":"/Users/choi/Documents/neverland_web/src/frontend/node_modules/babel-loader/lib/index.js","mtime":1643701923532}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Nob2kvRG9jdW1lbnRzL25ldmVybGFuZF93ZWIvc3JjL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0QXV0aEZyb21Db29raWUsIGdldFVzZXJGcm9tQ29va2llLCBzYXZlQXV0aFRvQ29va2llLCBzYXZlVXNlclRvQ29va2llIH0gZnJvbSAnQC91dGlscy9jb29raWVzJzsKaW1wb3J0IHsgbG9naW5Vc2VyIH0gZnJvbSAnQC9hcGkvYXV0aCc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgdXNlcm5hbWU6IGdldFVzZXJGcm9tQ29va2llKCkgfHwgJycsCiAgICB0b2tlbjogZ2V0QXV0aEZyb21Db29raWUoKSB8fCAnJwogIH0sCiAgZ2V0dGVyczogewogICAgaXNMb2dpbjogZnVuY3Rpb24gaXNMb2dpbihzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcm5hbWUgIT09ICcnOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VybmFtZTogZnVuY3Rpb24gc2V0VXNlcm5hbWUoc3RhdGUsIHVzZXJuYW1lKSB7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICB9LAogICAgY2xlYXJVc2VybmFtZTogZnVuY3Rpb24gY2xlYXJVc2VybmFtZShzdGF0ZSkgewogICAgICBzdGF0ZS51c2VybmFtZSA9ICcnOwogICAgfSwKICAgIHNldFRva2VuOiBmdW5jdGlvbiBzZXRUb2tlbihzdGF0ZSwgdG9rZW4pIHsKICAgICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIH0sCiAgICBjbGVhclRva2VuOiBmdW5jdGlvbiBjbGVhclRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBMT0dJTjogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX0xPR0lOID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShfcmVmLCB1c2VyRGF0YSkgewogICAgICAgIHZhciBjb21taXQsIHJlc3BvbnNlLCBwYXJzZXI7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblVzZXIodXNlckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBKU09OLnBhcnNlKHJlc3BvbnNlLmNvbmZpZy5kYXRhKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhcnNlci5uaWNrbmFtZSk7IC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuY29uZmlnKTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUudG9rZW4pOwogICAgICAgICAgICAgICAgLy8gY29tbWl0KCdzZXRUb2tlbicsIHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VG9rZW4nLCBwYXJzZXIucGFzc3dvcmQpOwogICAgICAgICAgICAgICAgY29tbWl0KCdzZXRVc2VybmFtZScsIHBhcnNlci51c2VybmFtZSk7CiAgICAgICAgICAgICAgICBzYXZlQXV0aFRvQ29va2llKHBhcnNlci5wYXNzd29yZCk7IC8vIHNhdmVBdXRoVG9Db29raWUocmVzcG9uc2UuZGF0YS50b2tlbik7CgogICAgICAgICAgICAgICAgc2F2ZVVzZXJUb0Nvb2tpZShwYXJzZXIudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgcmVzcG9uc2UpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIExPR0lOKF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX0xPR0lOLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBMT0dJTjsKICAgIH0oKQogIH0KfSk7"},{"version":3,"sources":["/Users/choi/Documents/neverland_web/src/frontend/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","use","Store","state","username","token","getters","isLogin","mutations","setUsername","clearUsername","setToken","clearToken","actions","LOGIN","userData","commit","response","parser","JSON","parse","config","data","console","log","nickname","password"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACIC,iBADJ,EAEIC,iBAFJ,EAGIC,gBAHJ,EAIIC,gBAJJ,QAKO,iBALP;AAMA,SAASC,SAAT,QAA0B,YAA1B;AAEAN,GAAG,CAACO,GAAJ,CAAQN,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACO,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAEP,iBAAiB,MAAM,EAD9B;AAEHQ,IAAAA,KAAK,EAAET,iBAAiB,MAAM;AAF3B,GADmB;AAK1BU,EAAAA,OAAO,EAAE;AACLC,IAAAA,OADK,mBACGJ,KADH,EACU;AACX,aAAOA,KAAK,CAACC,QAAN,KAAmB,EAA1B;AACH;AAHI,GALiB;AAU1BI,EAAAA,SAAS,EAAE;AACPC,IAAAA,WADO,uBACKN,KADL,EACYC,QADZ,EACsB;AACzBD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAHM;AAIPM,IAAAA,aAJO,yBAIOP,KAJP,EAIc;AACjBA,MAAAA,KAAK,CAACC,QAAN,GAAiB,EAAjB;AACH,KANM;AAOPO,IAAAA,QAPO,oBAOER,KAPF,EAOSE,KAPT,EAOgB;AACnBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACH,KATM;AAUPO,IAAAA,UAVO,sBAUIT,KAVJ,EAUW;AACdA,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACH;AAZM,GAVe;AAwB1BQ,EAAAA,OAAO,EAAE;AACCC,IAAAA,KADD;AAAA;AAAA;AAAA,qDACmBC,QADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACSC,gBAAAA,MADT,QACSA,MADT;AAAA;AAAA,uBAEsBhB,SAAS,CAACe,QAAD,CAF/B;;AAAA;AAEKE,gBAAAA,QAFL;AAGKC,gBAAAA,MAHL,GAGcC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACI,MAAT,CAAgBC,IAA3B,CAHd;AAIDC,gBAAAA,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACO,QAAnB,EAJC,CAKD;AACA;AACA;;AACAT,gBAAAA,MAAM,CAAC,UAAD,EAAaE,MAAM,CAACQ,QAApB,CAAN;AACAV,gBAAAA,MAAM,CAAC,aAAD,EAAgBE,MAAM,CAACd,QAAvB,CAAN;AACAN,gBAAAA,gBAAgB,CAACoB,MAAM,CAACQ,QAAR,CAAhB,CAVC,CAWD;;AACA3B,gBAAAA,gBAAgB,CAACmB,MAAM,CAACd,QAAR,CAAhB;AAZC,iDAaMa,QAbN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAxBiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport {\n    getAuthFromCookie,\n    getUserFromCookie,\n    saveAuthToCookie,\n    saveUserToCookie,\n} from '@/utils/cookies';\nimport { loginUser } from '@/api/auth';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        username: getUserFromCookie() || '',\n        token: getAuthFromCookie() || '',\n    },\n    getters: {\n        isLogin(state) {\n            return state.username !== '';\n        },\n    },\n    mutations: {\n        setUsername(state, username) {\n            state.username = username;\n        },\n        clearUsername(state) {\n            state.username = '';\n        },\n        setToken(state, token) {\n            state.token = token;\n        },\n        clearToken(state) {\n            state.token = '';\n        },\n    },\n    actions: {\n        async LOGIN({ commit }, userData) {\n            const response = await loginUser(userData);\n            const parser = JSON.parse(response.config.data);\n            console.log(parser.nickname);\n            // console.log(response.data.config);\n            // console.log(this.state.token);\n            // commit('setToken', response.data.token);\n            commit('setToken', parser.password);\n            commit('setUsername', parser.username);\n            saveAuthToCookie(parser.password);\n            // saveAuthToCookie(response.data.token);\n            saveUserToCookie(parser.username);\n            return response;\n        },\n    },\n});\n"]}]}
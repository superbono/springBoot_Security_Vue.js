{"remainingRequest":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/thread-loader/dist/cjs.js!/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/babel-loader/lib/index.js!/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/eslint-loader/index.js??ref--13-0!/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/src/store/index.js","dependencies":[{"path":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/src/store/index.js","mtime":1643266728125},{"path":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Nob2kvRG9jdW1lbnRzL3dvcmtzcGFjZS9zcHJpbmdCb290X1NlY3VyaXR5X1Z1ZS5qcy9zcmMvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXRBdXRoRnJvbUNvb2tpZSwgZ2V0VXNlckZyb21Db29raWUsIHNhdmVBdXRoVG9Db29raWUsIHNhdmVVc2VyVG9Db29raWUgfSBmcm9tICdAL3V0aWxzL2Nvb2tpZXMnOwppbXBvcnQgeyBsb2dpblVzZXIgfSBmcm9tICdAL2FwaS9hdXRoJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB1c2VybmFtZTogZ2V0VXNlckZyb21Db29raWUoKSB8fCAnJywKICAgIHRva2VuOiBnZXRBdXRoRnJvbUNvb2tpZSgpIHx8ICcnCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBpc0xvZ2luOiBmdW5jdGlvbiBpc0xvZ2luKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VybmFtZSAhPT0gJyc7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFVzZXJuYW1lOiBmdW5jdGlvbiBzZXRVc2VybmFtZShzdGF0ZSwgdXNlcm5hbWUpIHsKICAgICAgc3RhdGUudXNlcm5hbWUgPSB1c2VybmFtZTsKICAgIH0sCiAgICBjbGVhclVzZXJuYW1lOiBmdW5jdGlvbiBjbGVhclVzZXJuYW1lKHN0YXRlKSB7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gJyc7CiAgICB9LAogICAgc2V0VG9rZW46IGZ1bmN0aW9uIHNldFRva2VuKHN0YXRlLCB0b2tlbikgewogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIGNsZWFyVG9rZW46IGZ1bmN0aW9uIGNsZWFyVG9rZW4oc3RhdGUpIHsKICAgICAgc3RhdGUudG9rZW4gPSAnJzsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIExPR0lOOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfTE9HSU4gPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKF9yZWYsIHVzZXJEYXRhKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpblVzZXIodXNlckRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUudG9rZW4pOwoKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VG9rZW4nLCByZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcm5hbWUnLCByZXNwb25zZS5kYXRhLnVzZXIudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShyZXNwb25zZS5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgIHNhdmVVc2VyVG9Db29raWUocmVzcG9uc2UuZGF0YS51c2VyLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBMT0dJTihfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9MT0dJTi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gTE9HSU47CiAgICB9KCkKICB9Cn0pOw=="},{"version":3,"sources":["/Users/choi/Documents/workspace/springBoot_Security_Vue.js/src/frontend/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","use","Store","state","username","token","getters","isLogin","mutations","setUsername","clearUsername","setToken","clearToken","actions","LOGIN","userData","commit","response","console","log","data","user"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACIC,iBADJ,EAEIC,iBAFJ,EAGIC,gBAHJ,EAIIC,gBAJJ,QAKO,iBALP;AAMA,SAASC,SAAT,QAA0B,YAA1B;AAEAN,GAAG,CAACO,GAAJ,CAAQN,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACO,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAEP,iBAAiB,MAAM,EAD9B;AAEHQ,IAAAA,KAAK,EAAET,iBAAiB,MAAM;AAF3B,GADmB;AAK1BU,EAAAA,OAAO,EAAE;AACLC,IAAAA,OADK,mBACGJ,KADH,EACU;AACX,aAAOA,KAAK,CAACC,QAAN,KAAmB,EAA1B;AACH;AAHI,GALiB;AAU1BI,EAAAA,SAAS,EAAE;AACPC,IAAAA,WADO,uBACKN,KADL,EACYC,QADZ,EACsB;AACzBD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAHM;AAIPM,IAAAA,aAJO,yBAIOP,KAJP,EAIc;AACjBA,MAAAA,KAAK,CAACC,QAAN,GAAiB,EAAjB;AACH,KANM;AAOPO,IAAAA,QAPO,oBAOER,KAPF,EAOSE,KAPT,EAOgB;AACnBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACH,KATM;AAUPO,IAAAA,UAVO,sBAUIT,KAVJ,EAUW;AACdA,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACH;AAZM,GAVe;AAwB1BQ,EAAAA,OAAO,EAAE;AACCC,IAAAA,KADD;AAAA;AAAA;AAAA,qDACmBC,QADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACSC,gBAAAA,MADT,QACSA,MADT;AAAA;AAAA,uBAEsBhB,SAAS,CAACe,QAAD,CAF/B;;AAAA;AAEKE,gBAAAA,QAFL;AAGDC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAHC,CAID;;AACAD,gBAAAA,MAAM,CAAC,UAAD,EAAaC,QAAQ,CAACG,IAAT,CAAcf,KAA3B,CAAN;AACAW,gBAAAA,MAAM,CAAC,aAAD,EAAgBC,QAAQ,CAACG,IAAT,CAAcC,IAAd,CAAmBjB,QAAnC,CAAN;AACAN,gBAAAA,gBAAgB,CAACmB,QAAQ,CAACG,IAAT,CAAcf,KAAf,CAAhB;AACAN,gBAAAA,gBAAgB,CAACkB,QAAQ,CAACG,IAAT,CAAcC,IAAd,CAAmBjB,QAApB,CAAhB;AARC,iDASMa,QATN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAxBiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport {\n    getAuthFromCookie,\n    getUserFromCookie,\n    saveAuthToCookie,\n    saveUserToCookie,\n} from '@/utils/cookies';\nimport { loginUser } from '@/api/auth';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n    state: {\n        username: getUserFromCookie() || '',\n        token: getAuthFromCookie() || '',\n    },\n    getters: {\n        isLogin(state) {\n            return state.username !== '';\n        },\n    },\n    mutations: {\n        setUsername(state, username) {\n            state.username = username;\n        },\n        clearUsername(state) {\n            state.username = '';\n        },\n        setToken(state, token) {\n            state.token = token;\n        },\n        clearToken(state) {\n            state.token = '';\n        },\n    },\n    actions: {\n        async LOGIN({ commit }, userData) {\n            const response = await loginUser(userData);\n            console.log(response);\n            // console.log(this.state.token);\n            commit('setToken', response.data.token);\n            commit('setUsername', response.data.user.username);\n            saveAuthToCookie(response.data.token);\n            saveUserToCookie(response.data.user.username);\n            return response;\n        },\n    },\n});\n"]}]}
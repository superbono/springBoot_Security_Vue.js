{"remainingRequest":"C:\\Users\\choi\\Desktop\\springBoot_Security_Vue.js\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\choi\\Desktop\\springBoot_Security_Vue.js\\src\\frontend\\src\\store\\index.js","dependencies":[{"path":"C:\\Users\\choi\\Desktop\\springBoot_Security_Vue.js\\src\\frontend\\src\\store\\index.js","mtime":1643285302773},{"path":"C:\\Users\\choi\\Desktop\\springBoot_Security_Vue.js\\src\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1643284406396},{"path":"C:\\Users\\choi\\Desktop\\springBoot_Security_Vue.js\\src\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1643284404080}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxjaG9pXFxEZXNrdG9wXFxzcHJpbmdCb290X1NlY3VyaXR5X1Z1ZS5qc1xcc3JjXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEF1dGhGcm9tQ29va2llLCBnZXRVc2VyRnJvbUNvb2tpZSwgc2F2ZUF1dGhUb0Nvb2tpZSwgc2F2ZVVzZXJUb0Nvb2tpZSB9IGZyb20gJ0AvdXRpbHMvY29va2llcyc7CmltcG9ydCB7IGxvZ2luVXNlciB9IGZyb20gJ0AvYXBpL2F1dGgnOwpWdWUudXNlKFZ1ZXgpOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHVzZXJuYW1lOiBnZXRVc2VyRnJvbUNvb2tpZSgpIHx8ICcnLAogICAgdG9rZW46IGdldEF1dGhGcm9tQ29va2llKCkgfHwgJycKICB9LAogIGdldHRlcnM6IHsKICAgIGlzTG9naW46IGZ1bmN0aW9uIGlzTG9naW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXJuYW1lICE9PSAnJzsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlcm5hbWU6IGZ1bmN0aW9uIHNldFVzZXJuYW1lKHN0YXRlLCB1c2VybmFtZSkgewogICAgICBzdGF0ZS51c2VybmFtZSA9IHVzZXJuYW1lOwogICAgfSwKICAgIGNsZWFyVXNlcm5hbWU6IGZ1bmN0aW9uIGNsZWFyVXNlcm5hbWUoc3RhdGUpIHsKICAgICAgc3RhdGUudXNlcm5hbWUgPSAnJzsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICB9LAogICAgY2xlYXJUb2tlbjogZnVuY3Rpb24gY2xlYXJUb2tlbihzdGF0ZSkgewogICAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgTE9HSU46IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9MT0dJTiA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoX3JlZiwgdXNlckRhdGEpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXNwb25zZSwgcGFyc2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9naW5Vc2VyKHVzZXJEYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcGFyc2VyID0gSlNPTi5wYXJzZShyZXNwb25zZS5jb25maWcuZGF0YSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXJzZXIubmlja25hbWUpOyAvLyBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmNvbmZpZyk7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnN0YXRlLnRva2VuKTsKICAgICAgICAgICAgICAgIC8vIGNvbW1pdCgnc2V0VG9rZW4nLCByZXNwb25zZS5kYXRhLnRva2VuKTsKCiAgICAgICAgICAgICAgICBjb21taXQoJ3NldFRva2VuJywgcGFyc2VyLnBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlcm5hbWUnLCBwYXJzZXIudXNlcm5hbWUpOwogICAgICAgICAgICAgICAgc2F2ZUF1dGhUb0Nvb2tpZShwYXJzZXIucGFzc3dvcmQpOyAvLyBzYXZlQXV0aFRvQ29va2llKHJlc3BvbnNlLmRhdGEudG9rZW4pOwoKICAgICAgICAgICAgICAgIHNhdmVVc2VyVG9Db29raWUocGFyc2VyLnVzZXJuYW1lKTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBMT0dJTihfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9MT0dJTi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gTE9HSU47CiAgICB9KCkKICB9Cn0pOw=="},{"version":3,"sources":["C:/Users/choi/Desktop/springBoot_Security_Vue.js/src/frontend/src/store/index.js"],"names":["Vue","Vuex","getAuthFromCookie","getUserFromCookie","saveAuthToCookie","saveUserToCookie","loginUser","use","Store","state","username","token","getters","isLogin","mutations","setUsername","clearUsername","setToken","clearToken","actions","LOGIN","userData","commit","response","parser","JSON","parse","config","data","console","log","nickname","password"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SACIC,iBADJ,EAEIC,iBAFJ,EAGIC,gBAHJ,EAIIC,gBAJJ,QAKO,iBALP;AAMA,SAASC,SAAT,QAA0B,YAA1B;AAEAN,GAAG,CAACO,GAAJ,CAAQN,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACO,KAAT,CAAe;AAC1BC,EAAAA,KAAK,EAAE;AACHC,IAAAA,QAAQ,EAAEP,iBAAiB,MAAM,EAD9B;AAEHQ,IAAAA,KAAK,EAAET,iBAAiB,MAAM;AAF3B,GADmB;AAK1BU,EAAAA,OAAO,EAAE;AACLC,IAAAA,OADK,mBACGJ,KADH,EACU;AACX,aAAOA,KAAK,CAACC,QAAN,KAAmB,EAA1B;AACH;AAHI,GALiB;AAU1BI,EAAAA,SAAS,EAAE;AACPC,IAAAA,WADO,uBACKN,KADL,EACYC,QADZ,EACsB;AACzBD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACH,KAHM;AAIPM,IAAAA,aAJO,yBAIOP,KAJP,EAIc;AACjBA,MAAAA,KAAK,CAACC,QAAN,GAAiB,EAAjB;AACH,KANM;AAOPO,IAAAA,QAPO,oBAOER,KAPF,EAOSE,KAPT,EAOgB;AACnBF,MAAAA,KAAK,CAACE,KAAN,GAAcA,KAAd;AACH,KATM;AAUPO,IAAAA,UAVO,sBAUIT,KAVJ,EAUW;AACdA,MAAAA,KAAK,CAACE,KAAN,GAAc,EAAd;AACH;AAZM,GAVe;AAwB1BQ,EAAAA,OAAO,EAAE;AACCC,IAAAA,KADD;AAAA;AAAA;AAAA,qDACmBC,QADnB;AAAA;AAAA;AAAA;AAAA;AAAA;AACSC,gBAAAA,MADT,QACSA,MADT;AAAA;AAAA,uBAEsBhB,SAAS,CAACe,QAAD,CAF/B;;AAAA;AAEKE,gBAAAA,QAFL;AAGKC,gBAAAA,MAHL,GAGcC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAACI,MAAT,CAAgBC,IAA3B,CAHd;AAIDC,gBAAAA,OAAO,CAACC,GAAR,CAAYN,MAAM,CAACO,QAAnB,EAJC,CAKD;AACA;AACA;;AACAT,gBAAAA,MAAM,CAAC,UAAD,EAAaE,MAAM,CAACQ,QAApB,CAAN;AACAV,gBAAAA,MAAM,CAAC,aAAD,EAAgBE,MAAM,CAACd,QAAvB,CAAN;AACAN,gBAAAA,gBAAgB,CAACoB,MAAM,CAACQ,QAAR,CAAhB,CAVC,CAWD;;AACA3B,gBAAAA,gBAAgB,CAACmB,MAAM,CAACd,QAAR,CAAhB;AAZC,iDAaMa,QAbN;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAxBiB,CAAf,CAAf","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport {\r\n    getAuthFromCookie,\r\n    getUserFromCookie,\r\n    saveAuthToCookie,\r\n    saveUserToCookie,\r\n} from '@/utils/cookies';\r\nimport { loginUser } from '@/api/auth';\r\n\r\nVue.use(Vuex);\r\n\r\nexport default new Vuex.Store({\r\n    state: {\r\n        username: getUserFromCookie() || '',\r\n        token: getAuthFromCookie() || '',\r\n    },\r\n    getters: {\r\n        isLogin(state) {\r\n            return state.username !== '';\r\n        },\r\n    },\r\n    mutations: {\r\n        setUsername(state, username) {\r\n            state.username = username;\r\n        },\r\n        clearUsername(state) {\r\n            state.username = '';\r\n        },\r\n        setToken(state, token) {\r\n            state.token = token;\r\n        },\r\n        clearToken(state) {\r\n            state.token = '';\r\n        },\r\n    },\r\n    actions: {\r\n        async LOGIN({ commit }, userData) {\r\n            const response = await loginUser(userData);\r\n            const parser = JSON.parse(response.config.data);\r\n            console.log(parser.nickname);\r\n            // console.log(response.data.config);\r\n            // console.log(this.state.token);\r\n            // commit('setToken', response.data.token);\r\n            commit('setToken', parser.password);\r\n            commit('setUsername', parser.username);\r\n            saveAuthToCookie(parser.password);\r\n            // saveAuthToCookie(response.data.token);\r\n            saveUserToCookie(parser.username);\r\n            return response;\r\n        },\r\n    },\r\n});\r\n"]}]}